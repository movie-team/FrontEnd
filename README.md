# 🖥 영화 프로젝트 프론트엔드

## 🤖 프로젝트 멤버

<table>
 <tr>
    <td align="center"><a href="https://github.com/calendar2"><img src="https://avatars.githubusercontent.com/calendar2" width="130px;" alt=""></a></td>
  </tr>
  <tr>
    <td align="center"><a href="https://github.com/calendar2"><b>차민재</b></a></td>
  </tr>
</table>

<br/>

## 📌 기능 명세

1. JWT를 활용한 회원 관리
2. 이메일 인증을 활용한 사용자 검증
3. 회원, 리뷰, 티켓에 대한 CRUD 구현
4. 카카오 API를 활용한 소셜 로그인 구현
5. 카카오페이 API를 활용한 결제 프로세스 구현
6. 영화 추천 알고리즘 구현
7. 영화 이상형 월드컵 게임 구현

<br/>

## 시연 영상
1. 일반 회원가입
<br/>

![회원가입](https://github.com/movie-team/BackEnd/assets/116432941/10b76b4e-4a98-4303-9712-59b491bd5479)

2. 카카오 회원가입
<br/>

![카카오 로그인](https://github.com/movie-team/BackEnd/assets/116432941/11728757-d8b3-43b8-a2c9-502f3a6f8e90)

3. 로그인/로그아웃
<br/>

![로그인, 로그아웃](https://github.com/movie-team/BackEnd/assets/116432941/cb65ea41-eac8-485c-88d6-0dcab8a6711e)

4. 회원 탈퇴
<br/>

![회원 탈퇴](https://github.com/movie-team/BackEnd/assets/116432941/ff58de87-1185-4002-b8b9-4acb3ffe7500)

5. 회원 정보 수정
<br/>

![회원정보 수정](https://github.com/movie-team/BackEnd/assets/116432941/ea9cbd52-ee9c-4f54-88df-97183e60faad)

6. 비밀번호 변경
<br/>

![비밀번호 변경](https://github.com/movie-team/BackEnd/assets/116432941/c88848d0-67c7-4db7-b6f9-9811dbcaa2de)

7. 비밀번호 찾기
<br/>

![비밀번호 찾기](https://github.com/movie-team/BackEnd/assets/116432941/b57a2a13-abc6-42aa-8c87-56d2d3933889)

8. 영화 조회
<br/>

![영화 조회](https://github.com/movie-team/BackEnd/assets/116432941/eaf9313c-b6ee-4bc9-80da-6dd05a9bb0a5)

9. 영화 상세 조회
<br/>

![영화 상세 조회](https://github.com/movie-team/BackEnd/assets/116432941/f85f7b57-7c53-489a-8991-e345efd4b4fe)

10. 리뷰 작성
<br/>

![리뷰](https://github.com/movie-team/BackEnd/assets/116432941/45a4e5a6-25eb-4d69-81c0-2c875ec29f7a)

11. 추천 알고리즘
<br/>

![추천 알고리즘](https://github.com/movie-team/BackEnd/assets/116432941/ad87fc20-7563-41ff-88b4-4d44fa32512a)

12. 영화 이상형 월드컵
<br/>

![영화 월드컵](https://github.com/movie-team/BackEnd/assets/116432941/6998f264-7371-416e-9dfb-7d067a8ed307)

13. 상영관 정보
<br/>

![상영관 정보](https://github.com/movie-team/BackEnd/assets/116432941/c39d0e81-d076-41f7-a7ed-087ec1b31da3)

14. 티켓 생성
<br/>

![티켓 생성](https://github.com/movie-team/BackEnd/assets/116432941/59a7fe43-4206-4223-9fcc-1c12306e176d)

15. 티켓 결제
<br/>

![티켓 결제](https://github.com/movie-team/BackEnd/assets/116432941/d494c31e-bf3f-46ce-b66c-18ccc98dea21)
<br/>

![티켓 결제 확인](https://github.com/movie-team/BackEnd/assets/116432941/c95dc2c0-9784-4a4c-8977-2bb6210cc988)

16. 티켓 결제 취소
<br/>

![티켓 결제 취소](https://github.com/movie-team/BackEnd/assets/116432941/e3b6b489-ecd6-487b-b171-b45447f267de)


<br/>

## 💾 와이어프레임
![와이어프레임](https://github.com/movie-team/FrontEnd/assets/122072805/96f548fe-8419-4e7b-a5f6-d4f591b102ff)

https://www.figma.com/file/4NsmXJWV5BmYE24UfftHlk/%EC%8B%B8%ED%94%BC-%EA%B4%80%ED%86%B5?type=design&node-id=7%3A34&mode=design&t=nRD97zl3ZPirv3Du-1

<br/>

## 활용 라이브러리

1. axios(백엔드 서버와 통신)
2. vuetify(부가적인 기능 추가)
3. pinia(상태 관리)
4. vue-cookies(쿠키에 데이터 저장)

<br/>

## 💾 ERD

![Movie (2)](https://github.com/movie-team/BackEnd/assets/116432941/d7ab0ef9-cb65-428c-98a5-6bbe198e9cc2)

<br/>

## 📝 API 명세서

https://movie-team.gitbook.io/movieteam/

<br/>

## 느낀 점

차민재: BE 서버와 FE 클라이언트를 서로 연결할 때 HTTP 방식으로 진행하였다. 특히, 이번 프로젝트에서는 다양한 기능을 구현하였는데 덕분에 일반적인 CRUD와 비교하여 약 2배정도 더 통신 요청을 진행했고, HTTP 통신에 대해 심도있게 이해할 수 있게 되었다.

이번 프로젝트는 초기에 퍼블리싱을 제대로 진행하지 않고 작업을 시작했는데, 퍼블리싱을 꼼꼼히 해둬야 실제 작업할 때 속도도 더 낼 수 있고, 실수를 줄일 수 있음을 알게되었다.

또한, FE 담당과 BE 담당과의 의사소통이 수시적으로 이뤄져야 하고 코딩작업 보다도 더 우선순위에 둬야함을 느꼈다.

<br/>

## 추천 알고리즘

대부분의 추천 알고리즘은 코사인 유사도를 이용하였다. 영화는 장르와 같이 추천에 용이한 다양한 정보를 가지고 있고, 영화의 장르나 유저가 리뷰한 영화 하나의 벡터로 두어 영화끼리의 유사도를 비교하는 방식으로 진행하였다.

1. 장르 기반 추천
   장르 기반 추천은 영화의 세부 정보에 들어갈 경우에 해당 영화와 비슷한 장르를 추천하기 위해 만들었으며, 영화와 비슷하되, 많은 유저가 흥미를 느낄 수 있도록 목표 유사도를 넘은 영화들을 인기도 순으로 정렬하였다. 목표 유사도는 공통적으로 가지고 있는 장르 개수 / 특정 영화의 장르 개수로 구하였다.
   그러나, 목표 유사도라는 것은 초기에 임의로 설정할 수 밖에 없었다. 만약 해당 프로젝트를 실제 서비스하게 된다면, 노출 대비 클릭, 오버 비율을 통해서 목표 유사도를 조정하는 것이 필요하다고 판단된다. 또한, 기준이 되는 영화가 너무 많은 장르를 가지고 있거나, 너무 적은 장르를 가지고 있을 경우 목표 유사도가 제대로 작동하지 않는 경우가 존재하였다. 따라서 이 이후로 코사인 유사도를 사용하고 유사도를 가장 먼저 생각해 추천하게 되었다.

2. 유저 기반 추천 (협업 필터링)
   유저 기반 추천은 어떤 영화에 평가를 내렸을 때, 유저가 지금까지 영화에 매긴 평점들을 바탕으로 유저끼리의 코사인 유사도를 구했다. 그리고 가장 유사한 유저가 평가한 영화들 중에서 아직 기준이 되는 유저가 보지 않은 영화를 추천하였다. 이때, 유사한 유저가 나쁘게 평가한 영화를 추천할 수는 없기 때문에 해당 유저의 평균 평점 이상인 영화만을 추천하였다. 유사도가 높은 유저를 찾는 것은 어렵지 않았지만, 그 이후 어떤 영화를 추천할지 정하는 것은 많은 분석이 필요할 것 같다. 필터링되는 기준을 나중에 회귀 분석을 통해서 정하거나, 유사도를 가중치로 두고, 영화들의 추천 점수를 따로 만들어서, 한 유저에게 추천 결과가 편향되는 문제를 해결하는 등의 개선점이 존재한다.

3. 이상형 월드컵
   프로젝트의 초기 목표로 이상형 월드컵을 생각하고 있었다. 왓챠의 경우, 처음으로 어플을 이용할 때 자신이 본 영화의 평점을 매기는 방식으로 추천 알고리즘의 데이터를 받아오게 된다. 이는 유저가 데이터를 쌓기 전까지 성능이 낮을 수 밖에 없는 협업 필터링의 단점을 보완할 수 있다고 판단하였고, 이상형 월드컵을 추천에 사용하는 방식을 생각하게 되었다. 그러나 단판 토너먼트라는 방식 때문에 몇 가지 사항을 고려해야만 했다. 우선, 임의로 추출한 영화들 중에서 어떤 장르가 모든 영화에 존재할 경우 해당 장르가 추천에 큰 영향을 주지 않아야 했다. 또한, 단판이기 때문에 영화에 대한 평점을 임의로 계산하는데 큰 위험이 따랐다. 그래서 영화의 정보(여기서는 장르)를 벡터로서 사용하였고, 장르의 (총 승리 수) / (총 매치 수)를 값으로 잡았다. 승률을 사용하게 되면 많은 영화가 가진 장르라 할지라도 비교적으로 적은 영향을 받게 된다. 그러나, 아예 존재하지 않은 장르와 다른 값을 가지게 되고(모든 영화가 가지면 0.5, 가지지 않으면 0), 이를 개선할 여지가 있다. 또한, 자신을 패배시킨 영화가 높은 순위로 올라가게 된다면 좀 더 높은 가중치를 두는 식으로 모델을 조정할 수 있을 것이다.